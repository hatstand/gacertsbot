<title>{{ project }} - SSL certificates</title>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
<style>
.icon {
  vertical-align: middle;
  display: inline-block;
}
.icon.loading {
  width: 14px;
  height: 14px;
}
.icon.secure {
  width: 16px;
  height: 16px;
  background: no-repeat left center
    url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAchJREFUOI2Fk01PE0EYx//PzLp92W5bEcFw8MCBT6DxhNCDF0JAo8SDkqiBq1/GsyZNvEmM8agSAtZwgA/gwQRjYtpa+up2YXd2ZjwY1p0txf/teZnfPP95IYzRh1pthoPfAABLWgcLCzfr5/VROvH+8DCfH4oXSoZP/FAwTYCTzUnG6BWPgueVSuU02W+lATk/fNP3vaVf3Q4ucd5mjHSj3ZqcnriyWXQKUwDuJvtZMvi492VZiGip2TnWxUL+3sbDtclnaw+uuo57v9FuayGi1U+f9++MBXi+t9HotlDIOduPVlbeneUfry6/dbL53XrnGIOhtznWQrPXdaVUsDm20taCKNwSkVgUIiwn8/Eh9mrF6s7P9XVfX6M5dxdzpQMD8LV3C9+8eThU14szr6vl+cFTA9DdK6kTWaDWcBrXy0dgUAZAaYYfg1lMOXVk2VBfvt1nhgXeZOT2T+DiO9AgANwAMACzOPoblFi8cQygPiH8nYEMRm7WELcj2Aji2DKLEsT0hQBmmdYMAJH+L4Bg1g1AdGpBhab3kQkyEnZGng8AAXr0e5hKDRgDlIK23YDgBuklI1LqHyZ+yox0NVm4aDFjeHkW/wEBoKxseurucwAAAABJRU5ErkJggg==');
}
form {
  margin-bottom: 0;
}
body table {
  font-size: 12px;
}
</style>

<div class="container">

<h1>Account</h1>

<table class="table table-condensed table-bordered">
  <tr><th>Account ID</th><td>{{ account.AccountID }}</td></tr>
  <tr><th>Contact email</th><td>{{ account.Email }}</td></tr>
  <tr><th>Date registered</th><td>{{ account.Created|date:"2 January 2006" }}</td></tr>
</table>

<h1>Certificates</h1>

<table class="table table-condensed table-hover table-bordered">
  <tr>
    <th>Domain</th>
    <th>Cert ID</th>
    <th>Expiry</th>
    <th>Issuer</th>
    <th></th>
  </tr>

  {% for domain in domains %}
    <tr>
      {% if not domain.CertID %}
        <td>{{ domain.DomainID }}</td>
        <td colspan="3">(none)</td>
      {% else %}
        <td><div class="icon secure"></div> {{ domain.DomainID }}</td>
        <td>{{ domain.CertID }}</td>
        <td>{{ domain.CertExpiry|date:"2 January 2006" }}</td>
        <td>{{ domain.CertIssuer }}</td>
      {% endif %}
      <td>
        {% if domain.CreateOp and domain.CreateOp.Error == "" %}
          <img class="icon loading" src="//ssl.gstatic.com/pantheon/images/anim/status-working-28.gif" />
          Working...
        {% else %}
          <form action="/ssl-certificates/create" method="POST">
            <input type="hidden" name="hostname" value="{{ domain.DomainID }}" />
            <button class="btn btn-primary btn-xs">Get New Certificate</button>
          </form>
        {% endif %}
      </td>
    </tr>
    {% if domain.CreateOp and domain.CreateOp.Error != "" %}
      <tr class="danger">
        <td colspan="5"><code>{{ domain.CreateOp.Error }}</code></td>
      </tr>
    {% endif %}
  {% endfor %}
</table>

</div>
